<head>
  <title>FairVote</title>
</head>

<body>
  <h1>Welcome to FairVote!</h1>
  <!--{{> hello}}-->
  {{> createpoll}}

  <h2>Blockchain Polls</h2>
  <table class="poll-table">
    <tr>
      <th>Title</th>
      <th>Choices</th>
      <th>Address</th>
    </tr>
    <tbody>
      {{#each polls}}
        {{> poll}}
      {{/each}}
    </tbody>
  </table>

  {{> vote}}
  {{> viewvotes}}
</body>

<template name="createpoll">
  <h2>Create Poll</h2>
  <form class="new-poll">
    <input type="text" name="title" placeholder="Poll Title" /><br>
    <input type="text" name="choice1" placeholder="Poll Choice 1" /><br>
    <input type="text" name="choice2" placeholder="Poll Choice 2" /><br>
    <input type="text" name="maxVotes" placeholder="Maximum Votes" /><br>
    <button>Create Poll</button>
  </form>
</template>

<template name="poll">
  <tr>
    <td>{{title}}</td>
    <td>{{choices}}</td>
    <td>{{contract.address}}</td>
    <td><button class="delete-poll">Delete</button></td>
  </tr>
</template>

<template name="vote">
    <h2>Voting</h2>
    <form class="select-poll">
      <select name="select">
        {{#each polls}}
        <option  value="{{contract.address}}">{{contract.address}}</option>
        {{/each}}
      </select>
      <button>Select Poll</button>
    </form>
    <form class="vote-on-poll">
      {{#each choices}}
      <input type="radio" name="choice" value="{{this}}">{{this}}<br>
      {{/each}}
      {{#if choices}}
      <button>Submit Vote</button>
      {{/if}}
    </form>
  </template>

  <template name="viewvotes">
    <h2>View Votes</h2>
    <form class="select-poll">
      <select name="select">
        {{#each polls}}
        <option  value="{{contract.address}}">{{contract.address}}</option>
        {{/each}}
      </select>
      <button>Select Poll</button>
    </form>
    {{#each votes}}
      <span>{{choice}}:&nbsp;</span><span>{{numVotes}}</span><br>
    {{/each}}
  </template>

<template name="hello">
  <br><button>Click Me</button>
  <p>You've pressed the button {{counter}} times.</p>
</template>