<head>
  <title>FairVote</title>
</head>

<body>
  <div class="container-fluid">
    {{> header}}
    <!--{{> hello}}-->
    {{> createpoll}}

    {{> existingpolls polls=polls}}

    <!--<div class="section">
      <div class="">
          <div class="section-title">
            <h1>Existing Polls</h1>
          </div>
          <div class="section-body existing-polls-section">
              <ul class="all-polls row">
                {{#each polls}}
                  {{> poll}}
                {{/each}}
              </uL>
          </div>
      </div>
    </div>-->

    {{> vote polls=polls}}
    {{> viewvotes polls=polls}}
  </div>
</body>

<template name="createpoll">
  <div class="section create-poll-section">
    <div class="create-poll-section">
        <div class="section-title">
            <h1>Create a Poll</h1>
        </div>
        <div class="section-body">
            <form class="new-poll">
              <input type="text" class="form-control" name="title" placeholder="Poll Title" /><br>
              <input type="text" class="form-control" name="choice1" placeholder="Poll Choice 1" /><br>
              <input type="text" class="form-control" name="choice2" placeholder="Poll Choice 2" /><br>
              <input type="text" class="form-control" name="maxVotes" placeholder="Maximum Votes" /><br>
              <button class="btn">Create Poll</button>
            </form>
        </div>
    </div>
  </div>
</template>

<template name="existingpolls">
  <div class="section">
    <div class="">
        <div class="section-title">
          <h1>Existing Polls</h1>
        </div>
        <div class="section-body existing-polls-section">
            <ul class="all-polls row">
              {{#each polls}}
                {{> poll}}
              {{/each}}
            </uL>
        </div>
    </div>
  </div>
</template>

<template name="poll">
  <div class="col-md-4">
    <li class="poll-container">
      <h4><strong>{{title}}</strong></h4>
      Votes received: 7<br>
      Maximum votes: 70<br>
      Choices: {{choices}}<br>
      Address: {{contract.address}}<br>
      <button class="btn vote-poll" href="#vote">Vote</button>
      <button class="btn btn-delete delete-poll">Delete</button>
    </li>
  </div>
</template>

<template name="vote">
  {{#if voting}}
  <div class="section" name="vote">
    <div class="">
        <div class="section-title">
          <h1>Voting</h1>
        </div>
        <div class="section-body">
          <h2>Select a choice</h2>
          <form class="vote-on-poll">
            <div class="form-fields">
              {{#each choices}}
              <input type="radio" name="choice" value="{{this}}"><label>{{this}}</label><br>
              {{/each}}
            </div>
            {{#if choices}}
            <button class="btn">Submit Vote</button>
            {{/if}}
          </form>
        </div>
    </div>
  </div>
  {{/if}}
</template>

<template name="viewvotes">
  <div class="section">
    <div class="">
        <div class="section-title">
          <h1>View Votes</h1>
        </div>
        <div class="section-body">
            <form class="select-poll">
              <select name="select">
                {{#each polls}}
                <option  value="{{contract.address}}">{{contract.address}}</option>
                {{/each}}
              </select>
              <button>Select Poll</button>
            </form>
            {{#each votes}}
              <span>{{choice}}:&nbsp;</span><span>{{numVotes}}</span><br>
            {{/each}}
        </div>
    </div>
  </div>
</template>

<template name="hello">
  <br><button>Click Me</button>
  <p>You've pressed the button {{counter}} times.</p>
</template>

<template name="header">
  <div class="row header">
    <div class="col-lg-12">
      <img src="/images/fairvote.svg" height="24px">
    </div>
  </div>
</template>